(function(m,l,v,g){"use strict";m.console=m.console||{info:function(t){}};if(!v){return}if(v.fn.photoSwiper){console.info("photoBox already initialized");return}var t={info:[],isReduce:true,isEnLarge:true,isBackOrigin:true,isLeftHand:true,isRightHand:true,isFullScreen:true,isFind:true,isTrackSource:true,isFollow:true,operateExtend:null,loop:false,gutter:50,keyboard:true,arrows:true,infobar:true,smallBtn:"auto",toolbar:"auto",buttons:["zoom","thumbs","close"],idleTime:1e3,protect:false,modal:false,image:{preload:false},ajax:{settings:{data:{photoSwiper:true}}},iframe:{tpl:'<iframe id="photoSwiper-frame{rnd}" name="photoSwiper-frame{rnd}" class="photoSwiper-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency="true" src=""></iframe>',preload:true,css:{},attr:{scrolling:"auto"}},defaultType:"image",animationEffect:false,animationDuration:366,zoomOpacity:"auto",transitionEffect:false,transitionDuration:366,slideClass:"",baseClass:"",baseTpl:'<div class="photoSwiper-container" role="dialog" tabindex="-1">'+'<div class="photoSwiper-only-bg"><div class="photoSwiper-only-close"></div></div>'+'<div class="photoSwiper-bg"></div>'+'<div class="photoSwiper-inner">'+'<div class="photoSwiper-infobar">'+"<span data-photoSwiper-index></span>&nbsp;/&nbsp;<span data-photoSwiper-count></span>"+"</div>"+'<div class="photoSwiper-toolbar">{{buttons}}</div>'+'<div class="photoSwiper-navigation">{{arrows}}</div>'+'<div class="photoSwiper-stage"></div>'+'<div class="photoSwiper-caption"></div>'+"</div>"+"</div>",spinnerTpl:'<div class="photoSwiper-loading"></div>',errorTpl:'<div class="photoSwiper-error"><p>{{ERROR}}</p></div>',btnTpl:{download:'<a download data-photoSwiper-download class="photoSwiper-button photoSwiper-button--download" title="{{DOWNLOAD}}" href="javascript:;">'+'<svg viewBox="0 0 40 40">'+'<path d="M13,16 L20,23 L27,16 M20,7 L20,23 M10,24 L10,28 L30,28 L30,24" />'+"</svg>"+"</a>",zoom:'<button data-photoSwiper-zoom class="photoSwiper-button photoSwiper-button--zoom" title="{{ZOOM}}">'+'<svg viewBox="0 0 40 40">'+'<path d="M18,17 m-8,0 a8,8 0 1,0 16,0 a8,8 0 1,0 -16,0 M24,22 L31,29" />'+"</svg>"+"</button>",close:'<button data-photoSwiper-close class="photoSwiper-button photoSwiper-button--close"></button>',smallBtn:'<button data-photoSwiper-close class="photoSwiper-close-small" title="{{CLOSE}}"><svg viewBox="0 0 32 32"><path d="M10,10 L22,22 M22,10 L10,22"></path></svg></button>',arrowLeft:'<a data-photoSwiper-prev class="photoSwiper-button photoSwiper-button--arrow_left" title="{{PREV}}" href="javascript:;">'+'<div class="photoSwiper-left-big"></div>'+"</a>",arrowRight:'<a data-photoSwiper-next class="photoSwiper-button photoSwiper-button--arrow_right" title="{{NEXT}}" href="javascript:;">'+'<div class="photoSwiper-right-big"></div>'+"</a>",reduce:'<div data-photoSwiper-reduce class="photoSwiper-reduce"></div>',enlarge:'<div data-photoSwiper-enlarge class="photoSwiper-enlarge"></div>',backOrigin:'<div data-photoSwiper-backOrigin class="photoSwiper-backOrigin"></div>',leftHand:'<div data-photoSwiper-leftHand class="photoSwiper-leftHand"></div>',rightHand:'<div data-photoSwiper-rightHand class="photoSwiper-rightHand"></div>',myFullScreen:'<div data-photoSwiper-myFullScreen class="photoSwiper-myFullScreen"></div>',find:'<div data-photoSwiper-find class="photoSwiper-find-wrap"><div class="photoSwiper-find"></div><div class="photoSwiper-find-title">搜索图片</div></div>',trackSource:'<div data-photoSwiper-trackSource class="photoSwiper-trackSource-wrap"><div class="photoSwiper-trackSource"></div><div class="photoSwiper-trackSource-title">溯源</div></div>',follow:'<div data-photoSwiper-follow class="photoSwiper-follow-wrap"><div class="photoSwiper-follow"></div><div class="photoSwiper-follow-title">关注</div></div>'},parentEl:"body",autoFocus:false,backFocus:true,trapFocus:true,fullScreen:{autoStart:false},touch:{vertical:true,momentum:true},hash:null,media:{},slideShow:{autoStart:false,speed:4e3},thumbs:{autoStart:true,hideOnClose:true,parentEl:".photoSwiper-container",axis:"x"},wheel:true,onInit:v.noop,beforeLoad:v.noop,afterLoad:v.noop,beforeShow:v.noop,afterShow:v.noop,beforeClose:v.noop,afterClose:v.noop,onActivate:v.noop,onDeactivate:v.noop,beforeSearch:v.noop,afterSearch:v.noop,beforeTrackSource:v.noop,afterTrackSource:v.noop,beforeFollow:v.noop,afterFollow:v.noop,clickContent:function(t,e){return t.type==="image"?"zoom":false},clickSlide:"close",clickOutside:"close",dblclickContent:false,dblclickSlide:false,dblclickOutside:false,mobile:{idleTime:false,clickContent:function(t,e){return t.type==="image"?"toggleControls":false},clickSlide:function(t,e){return t.type==="image"?"toggleControls":"close"},dblclickContent:function(t,e){return t.type==="image"?"zoom":false},dblclickSlide:function(t,e){return t.type==="image"?"zoom":false}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails",DOWNLOAD:"Download",SHARE:"Share",ZOOM:"Zoom"},de:{CLOSE:"Schliessen",NEXT:"Weiter",PREV:"Zurück",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es später nochmal.",PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder",DOWNLOAD:"Herunterladen",SHARE:"Teilen",ZOOM:"Maßstab"}}};var p=v(m);var s=v(l);var r=0;var i=function(t){return t&&t.hasOwnProperty&&t instanceof v};var f=function(){return m.requestAnimationFrame||m.webkitRequestAnimationFrame||m.mozRequestAnimationFrame||m.oRequestAnimationFrame||function(t){return m.setTimeout(t,1e3/60)}}();var d=function(){var t=l.createElement("fakeelement"),e;var o={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in o){if(t.style[e]!==g){return o[e]}}return"transitionend"}();var u=function(t){return t&&t.length&&t[0].offsetHeight};var n=function(t,e){var o=v.extend(true,{},t,e);v.each(e,function(t,e){if(v.isArray(e)){o[t]=e}});return o};var a=function(t,e,o){var i=this;i.opts=n({index:o},v.photoSwiper.defaults);if(v.isPlainObject(e)){i.opts=n(i.opts,e)}i.opts.idleTime=i.opts.idleTime*10;if(v.photoSwiper.isMobile){i.opts=n(i.opts,i.opts.mobile)}i.id=i.opts.id||++r;i.currIndex=parseInt(i.opts.index,10)||0;i.prevIndex=null;i.prevPos=null;i.currPos=0;i.firstRun=true;i.group=[];i.slides={};i.addContent(t);if(!i.group.length){return}i.$lastFocus=v(l.activeElement).trigger("blur");i.init()};v.extend(a.prototype,{init:function(){var e=this,t=e.group[e.currIndex],o=t.opts,i=v.photoSwiper.scrollbarWidth,r,n,s;if(!v.photoSwiper.getInstance()&&o.hideScrollbar!==false){v("body").addClass("photoSwiper-active");if(!v.photoSwiper.isMobile&&l.body.scrollHeight>m.innerHeight){if(i===g){r=v('<div style="width:100px;height:100px;overflow:scroll;" />').appendTo("body");i=v.photoSwiper.scrollbarWidth=r[0].offsetWidth-r[0].clientWidth;r.remove()}v("head").append('<style id="photoSwiper-style-noscroll" type="text/css">.compensate-for-scrollbar { margin-right: '+i+"px; }</style>");v("body").addClass("compensate-for-scrollbar")}}s="";v.each(o.buttons,function(t,e){s+=o.btnTpl[e]||""});n=v(e.translate(e,o.baseTpl.replace("{{buttons}}",s).replace("{{arrows}}",o.btnTpl.arrowLeft+o.btnTpl.arrowRight))).attr("id","photoSwiper-container-"+e.id).addClass("photoSwiper-is-hidden").addClass(o.baseClass).data("FancyBox",e).appendTo(o.parentEl);v('<button data-photoSwiper-close class="photoSwiper-button photoSwiper-button--close"></button>').appendTo(n.find(".photoSwiper-inner"));e.$refs={container:n};["bg","inner","infobar","toolbar","stage","caption","navigation"].forEach(function(t){e.$refs[t]=n.find(".photoSwiper-"+t)});e.trigger("onInit");e.activate();e.jumpTo(e.currIndex)},translate:function(t,e){var i=t.opts.i18n[t.opts.lang];return e.replace(/\{\{(\w+)\}\}/g,function(t,e){var o=i[e];if(o===g){return t}return o})},addContent:function(t){var p=this,e=v.makeArray(t),o;v.each(e,function(t,e){var o={},i={},r,n,s,a,l;if(v.isPlainObject(e)){o=e;i=e.opts||e}else if(v.type(e)==="object"&&v(e).length){r=v(e);i=r.data()||{};i=v.extend(true,{},i,i.options);i.$orig=r;o.src=p.opts.src||i.src||r.attr("href");if(!o.type&&!o.src){o.type="inline";o.src=e}}else{o={type:"html",src:e+""}}o.opts=v.extend(true,{},p.opts,i);if(v.isArray(i.buttons)){o.opts.buttons=i.buttons}n=o.type||o.opts.type;a=o.src||"";if(!n&&a){if(s=a.match(/\.(mp4|mov|ogv)((\?|#).*)?$/i)){n="video";if(!o.opts.videoFormat){o.opts.videoFormat="video/"+(s[1]==="ogv"?"ogg":s[1])}}else if(a.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)){n="image"}else if(a.match(/\.(pdf)((\?|#).*)?$/i)){n="iframe"}else if(a.charAt(0)==="#"){n="inline"}}if(n){o.type=n}else{p.trigger("objectNeedsType",o)}if(!o.contentType){o.contentType=v.inArray(o.type,["html","inline","ajax"])>-1?"html":o.type}o.index=p.group.length;if(o.opts.smallBtn=="auto"){o.opts.smallBtn=v.inArray(o.type,["html","inline","ajax"])>-1}if(o.opts.toolbar==="auto"){o.opts.toolbar=!o.opts.smallBtn}if(o.opts.$trigger&&o.index===p.opts.index){o.opts.$thumb=o.opts.$trigger.find("img:first")}if((!o.opts.$thumb||!o.opts.$thumb.length)&&o.opts.$orig){o.opts.$thumb=o.opts.$orig.find("img:first")}if(v.type(o.opts.caption)==="function"){o.opts.caption=o.opts.caption.apply(e,[p,o])}if(v.type(p.opts.caption)==="function"){o.opts.caption=p.opts.caption.apply(e,[p,o])}if(!(o.opts.caption instanceof v)){o.opts.caption=o.opts.caption===g?"":o.opts.caption+""}if(o.type==="ajax"){l=a.split(/\s+/,2);if(l.length>1){o.src=l.shift();o.opts.filter=l.shift()}}if(o.opts.modal){o.opts=v.extend(true,o.opts,{infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:false,clickSlide:false,clickOutside:false,dblclickContent:false,dblclickSlide:false,dblclickOutside:false})}p.group.push(o)});if(Object.keys(p.slides).length){p.updateControls();o=p.Thumbs;if(o&&o.isActive){o.create();o.focus()}}},addEvents:function(){var a=this;a.removeEvents();a.$refs.container.on("click.fb-close","[data-photoSwiper-close]",function(t){t.stopPropagation();t.preventDefault();a.close(t)}).on("touchstart.fb-prev click.fb-prev","[data-photoSwiper-prev]",function(t){t.stopPropagation();t.preventDefault();a.previous()}).on("touchstart.fb-next click.fb-next","[data-photoSwiper-next]",function(t){t.stopPropagation();t.preventDefault();a.next()}).on("click.fb","[data-photoSwiper-zoom]",function(t){a[a.isScaledDown()?"scaleToActual":"scaleToFit"]()}).on("click.fb-deduce","[data-photoSwiper-reduce]",function(t){var e=v(this);a.reduce(e)}).on("click.fb-enlarge","[data-photoSwiper-enlarge]",function(t){var e=v(this);a.enlarge(e)}).on("click.fb-backOrigin","[data-photoSwiper-backOrigin]",function(t){var e=v(this);a.backOrigin(e)}).on("click.fb-leftHand","[data-photoSwiper-leftHand]",function(t){var e=v(this);a.leftHand(e)}).on("click.fb-rightHand","[data-photoSwiper-rightHand]",function(t){var e=v(this);a.rightHand(e)}).on("click.fb-myFullScreen","[data-photoSwiper-myFullScreen]",function(t){var e=v(this);a.myFullScreen(e)}).on("click.fb-find","[data-photoSwiper-find]",function(t){var e=v(this);a.find(e)}).on("click.fb-trackSource","[data-photoSwiper-trackSource]",function(t){var e=v(this);a.trackSource(e)}).on("click.fb-follow","[data-photoSwiper-follow]",function(t){var e=v(this);a.follow(e)});p.on("orientationchange.fb resize.fb",function(t){if(t&&t.originalEvent&&t.originalEvent.type==="resize"){if(a.current.$content.parents(".photoSwiper-container").find(".photoSwiper-only-bg-open").length>0){var e=(v(m).width()-v(".photoSwiper-only-bg img").width())/2;var o=(v(m).height()-v(".photoSwiper-only-bg img").height())/2;v(".photoSwiper-only-bg img").css("top",o);v(".photoSwiper-only-bg img").css("left",e)}var i=new Image;i.src=a.current.src;var r=i.width;var n=i.height;var s=a.current.$content;a.dealPositionSize(s,r,n);f(function(){a.update()})}else{a.$refs.stage.hide();setTimeout(function(){a.$refs.stage.show();a.update()},v.photoSwiper.isMobile?600:250)}});s.on("focusin.fb",function(t){var e=v.photoSwiper?v.photoSwiper.getInstance():null;if(e.isClosing||!e.current||!e.current.opts.trapFocus||v(t.target).hasClass("photoSwiper-container")||v(t.target).is(l)){return}if(e&&v(t.target).css("position")!=="fixed"&&!e.$refs.container.has(t.target).length){t.stopPropagation();e.focus()}});s.on("keydown.fb",function(t){var e=a.current,o=t.keyCode||t.which;if(!e||!e.opts.keyboard){return}if(t.ctrlKey||t.altKey||t.shiftKey||v(t.target).is("input")||v(t.target).is("textarea")){return}if(o===8||o===27){t.preventDefault();a.close(t);return}if(o===37||o===38){t.preventDefault();a.previous();return}if(o===39||o===40){t.preventDefault();a.next();return}a.trigger("afterKeydown",t,o)});if(a.group[a.currIndex].opts.idleTime){a.idleSecondsCounter=0;s.on("mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle",function(t){a.idleSecondsCounter=0;if(a.isIdle){a.showControls()}a.isIdle=false});a.idleInterval=m.setInterval(function(){a.idleSecondsCounter++;if(a.idleSecondsCounter>=a.group[a.currIndex].opts.idleTime&&!a.isDragging){a.isIdle=true;a.idleSecondsCounter=0;a.hideControls()}else{if(m.attachEvent){a.isIdle=true;a.$refs.container.removeClass("photoSwiper-show-infobar photoSwiper-show-toolbar photoSwiper-show-caption ");a.showControlsHelp()}}},100)}},removeEvents:function(){var t=this;p.off("orientationchange.fb resize.fb");s.off("focusin.fb keydown.fb .fb-idle");this.$refs.container.off(".fb-close .fb-prev .fb-next .fb-deduce .fb-enlarge .fb-backOrigin .fb-leftHand .fb-rightHand .fb-myFullScreen .fb-find .fb-trackSource .fb-follow");if(t.idleInterval){m.clearInterval(t.idleInterval);t.idleInterval=null}},previous:function(t){return this.jumpTo(this.currPos-1,t)},next:function(t){return this.jumpTo(this.currPos+1,t)},getmatrixs:function(t){var e=t.css("-webkit-transform")||t.css("-moz-transform")||t.css("-ms-transform")||t.css("-o-transform")||t.css("transform"),o=e.split("(")[1].split(")")[0].split(","),i=o[0],r=o[1],n=o[2],s=o[3],a=Math.sqrt(i*i+r*r),l=r/a,p=Math.round(Math.atan2(r,i)*(180/Math.PI));return[a,p]},reduce:function(t){var e=t.parents(".photoSwiper-content-wrapper").find(".photo-img-control"),o=this.getmatrixs(e)[0],i=(o-.1).toFixed(2),r=this.getmatrixs(e)[1],n="scale("+i+")"+"rotate("+r+"deg)";if(i>.1){e.css("-moz-transform",n);e.css("-webkit-transform",n);e.css("-o-transform",n);e.css("-ms-transform",n);e.css("transform",n)}},enlarge:function(t){var e=t.parents(".photoSwiper-content-wrapper").find(".photo-img-control"),o=this.getmatrixs(e)[0],i=(o+.1).toFixed(2),r=this.getmatrixs(e)[1],n="scale("+i+")"+"rotate("+r+"deg)";if(i<5){e.css("-moz-transform",n);e.css("-webkit-transform",n);e.css("-o-transform",n);e.css("-ms-transform",n);e.css("transform",n)}},backOrigin:function(t){var e=t.parents(".photoSwiper-content-wrapper").find(".photo-img-control");var o=e.parent();e.css("left",0);e.css("top",0);e.css("-moz-transform","scale(1) rotate(0)");e.css("-webkit-transform","scale(1) rotate(0)");e.css("-o-transform","scale(1) rotate(0)");e.css("-ms-transform","scale(1) rotate(0)");e.css("transform","scale(1) rotate(0)");if(e.width()<o.width()){e.css("left",(o.width()-e.width())/2)}if(e.height()<o.height()){e.css("top",(o.height()-e.height())/2)}},leftHand:function(t){var e=t.parents(".photoSwiper-content-wrapper").find(".photo-img-control"),o=this.getmatrixs(e)[0],i=this.getmatrixs(e)[1],i=(i-90)%360,r="scale("+o+")"+"rotate("+i+"deg)";e.css("-moz-transform",r);e.css("-webkit-transform",r);e.css("-o-transform",r);e.css("-ms-transform",r);e.css("transform",r)},rightHand:function(t){var e=t.parents(".photoSwiper-content-wrapper").find(".photo-img-control"),o=this.getmatrixs(e)[0],i=this.getmatrixs(e)[1],i=(i+90)%360,r="scale("+o+")"+"rotate("+i+"deg)";e.css("-moz-transform",r);e.css("-webkit-transform",r);e.css("-o-transform",r);e.css("-ms-transform",r);e.css("transform",r)},myFullScreen:function(t){var e=v(m).width(),o=v(m).height()-40;var i=new Image;i.src=v(".photoSwiper-only-bg img").attr("src");var r=i.width,n=i.height,s=r,a=n,l=0;if(r>e||n>o){var p=r/e;var c=n/o;if(p>c){s=r/p;a=n/p}else{s=r/c;a=n/c;l=20}}v(".photoSwiper-only-bg").addClass("photoSwiper-only-bg-open");var h=(e-s)/2;var f=(o-a)/2;v(".photoSwiper-only-bg img").css("top",f+l);v(".photoSwiper-only-bg img").css("left",h);v(".photoSwiper-only-bg img").css("width",s);v(".photoSwiper-only-bg img").css("height",a);v(".photoSwiper-only-close").on("click",function(t){v(".photoSwiper-only-bg").removeClass("photoSwiper-only-bg-open");v(".photoSwiper-only-close").off("click")});v(".photoSwiper-only-bg").on("click",function(t){v(".photoSwiper-only-bg").removeClass("photoSwiper-only-bg-open")});v(".photoSwiper-only-bg img").on("click",function(t){t.preventDefault();t.stopPropagation()})},find:function(t){this.trigger("beforeSearch",t);this.trigger("afterSearch",t)},trackSource:function(t){this.trigger("beforeTrackSource",t);this.trigger("afterTrackSource",t)},follow:function(t){this.trigger("beforeFollow",t);if(t.hasClass("addFollow")){t.removeClass("addFollow");t.find(".photoSwiper-follow-title").html("关注")}else{t.addClass("addFollow");t.find(".photoSwiper-follow-title").html("取消")}this.trigger("afterFollow",t)},getRealNumber:function(t){while(t<0){t+=this.group.length}while(t>=this.group.length){t-=this.group.length}return t},jumpTo:function(t,i){var r=this,e=r.group.length,o,n,s,a,l,p,c;if(r.isDragging||r.isClosing||r.isAnimating&&r.firstRun){return}t=parseInt(t,10);n=r.current?r.current.opts.loop:r.opts.loop;if(!n&&t>=e){t=e-1}if(!n&&t<0){t=0}if(!n&&(t<0||t>=e)){return false}o=r.firstRun=!Object.keys(r.slides).length;if(e<2&&!o&&!!r.isDragging){return}a=r.current;r.prevIndex=r.currIndex;r.prevPos=r.currPos;s=r.createSlide(t);if(e>1){if(n||s.index>0){r.createSlide(t-1)}if(n||s.index<e-1){r.createSlide(t+1)}}r.current=s;r.currIndex=s.index;r.currPos=s.pos;r.trigger("beforeShow",o);r.updateControls();p=v.photoSwiper.getTranslate(s.$slide);s.isMoved=(p.left!==0||p.top!==0)&&!s.$slide.hasClass("photoSwiper-animated");s.forcedDuration=g;if(v.isNumeric(i)){s.forcedDuration=i}else{i=s.opts[o?"animationDuration":"transitionDuration"]}i=parseInt(i,10);if(o){if(s.opts.animationEffect&&i){r.$refs.container.css("transition-duration",i+"ms")}s.$slide.parents(".photoSwiper-container").find(".photoSwiper-thumbs-ul-wrapper").css("visibility","hidden");s.$slide.parents(".photoSwiper-inner").css("visibility","hidden");r.$refs.container.removeClass("photoSwiper-is-hidden");u(r.$refs.container);r.$refs.container.addClass("photoSwiper-is-open");u(r.$refs.container);s.$slide.addClass("photoSwiper-slide--previous");r.loadSlide(s);s.$slide.removeClass("photoSwiper-slide--previous").addClass("photoSwiper-slide--current");var h=s.opts.$orig.parent().find("[data-photoSwiper='"+s.opts.photoswiper+"']:eq("+r.getRealNumber(t)+")");var f=s.opts.$orig.parent().find("[data-photoSwiper]").index(h);if(f!==g&&r.opts.info[f]!==g&&r.opts.info[f].title!==g){s.$slide.find(".photoSwiper-content-title").html(r.opts.info[f].title)}if(f!==g&&r.opts.info[f]!==g&&r.opts.info[f].details!==g){s.$slide.find(".photoSwiper-content-info").html(r.opts.info[f].details)}else{s.$slide.find(".photoSwiper-content-wrapper").addClass("noDetails")}r.preload("image");return}v.each(r.slides,function(t,e){v.photoSwiper.stop(e.$slide)});s.$slide.removeClass("photoSwiper-slide--next photoSwiper-slide--previous").addClass("photoSwiper-slide--current");var h=s.opts.$orig.parent().find("[data-photoSwiper='"+s.opts.photoswiper+"']:eq("+r.getRealNumber(t)+")");var f=s.opts.$orig.parent().find("[data-photoSwiper]").index(h);if(f!==g&&r.opts.info[f]!==g&&r.opts.info[f].title!==g){s.$slide.find(".photoSwiper-content-title").html(r.opts.info[f].title)}if(f!==g&&r.opts.info[f]!==g&&r.opts.info[f].details!==g){s.$slide.find(".photoSwiper-content-info").html(r.opts.info[f].details)}else{s.$slide.find(".photoSwiper-content-wrapper").addClass("noDetails")}if(s.isMoved){l=Math.round(s.$slide.width());v.each(r.slides,function(t,e){var o=e.pos-s.pos;v.photoSwiper.animate(e.$slide,{top:0,left:o*l+o*e.opts.gutter},i,function(){e.$slide.removeAttr("style").removeClass("photoSwiper-slide--next photoSwiper-slide--previous");if(e.pos===r.currPos){s.isMoved=false;r.complete()}})})}else{r.$refs.stage.children().removeAttr("style")}if(s.isLoaded){r.revealContent(s)}else{r.loadSlide(s);var h=s.opts.$orig.parent().find("[data-photoSwiper='"+s.opts.photoswiper+"']:eq("+r.getRealNumber(t)+")");var f=s.opts.$orig.parent().find("[data-photoSwiper]").index(h);if(f!==g&&r.opts.info[f]!==g&&r.opts.info[f].title!==g){s.$slide.find(".photoSwiper-content-title").html(r.opts.info[f].title)}if(f!==g&&r.opts.info[f]!==g&&r.opts.info[f].details!==g){s.$slide.find(".photoSwiper-content-info").html(r.opts.info[f].details)}else{s.$slide.find(".photoSwiper-content-wrapper").addClass("noDetails")}}r.preload("image");if(a.pos===s.pos){return}c="photoSwiper-slide--"+(a.pos>s.pos?"next":"previous");a.$slide.removeClass("photoSwiper-slide--complete photoSwiper-slide--current photoSwiper-slide--next photoSwiper-slide--previous");a.isComplete=false;if(!i||!s.isMoved&&!s.opts.transitionEffect){return}if(s.isMoved){a.$slide.addClass(c)}else{c="photoSwiper-animated "+c+" photoSwiper-fx-"+s.opts.transitionEffect;v.photoSwiper.animate(a.$slide,c,i,function(){a.$slide.removeClass(c).removeAttr("style")})}},createSlide:function(t){var e=this,o,i;i=t%e.group.length;i=i<0?e.group.length+i:i;if(!e.slides[t]&&e.group[i]){o=v('<div class="photoSwiper-slide"></div>').appendTo(e.$refs.stage);e.slides[t]=v.extend(true,{},e.group[i],{pos:t,$slide:o,isLoaded:false});e.updateSlide(e.slides[t])}return e.slides[t]},scaleToActual:function(t,e,o){var i=this,r=i.current,n=r.$content,s=v.photoSwiper.getTranslate(r.$slide).width,a=v.photoSwiper.getTranslate(r.$slide).height,l=r.width,p=r.height,c,h,f,d,u;if(i.isAnimating||!n||!(r.type=="image"&&r.isLoaded&&!r.hasError)){return}v.photoSwiper.stop(n);i.isAnimating=true;t=t===g?s*.5:t;e=e===g?a*.5:e;c=v.photoSwiper.getTranslate(n);c.top-=v.photoSwiper.getTranslate(r.$slide).top;c.left-=v.photoSwiper.getTranslate(r.$slide).left;d=l/c.width;u=p/c.height;h=s*.5-l*.5;f=a*.5-p*.5;if(l>s){h=c.left*d-(t*d-t);if(h>0){h=0}if(h<s-l){h=s-l}}if(p>a){f=c.top*u-(e*u-e);if(f>0){f=0}if(f<a-p){f=a-p}}i.updateCursor(l,p);v.photoSwiper.animate(n,{top:f,left:h,scaleX:d,scaleY:u},o||330,function(){i.isAnimating=false});if(i.SlideShow&&i.SlideShow.isActive){i.SlideShow.stop()}},scaleToFit:function(t){var e=this,o=e.current,i=o.$content,r;if(e.isAnimating||!i||!(o.type=="image"&&o.isLoaded&&!o.hasError)){return}v.photoSwiper.stop(i);e.isAnimating=true;r=e.getFitPos(o);e.updateCursor(r.width,r.height);v.photoSwiper.animate(i,{top:r.top,left:r.left,scaleX:r.width/i.width(),scaleY:r.height/i.height()},t||330,function(){e.isAnimating=false})},getFitPos:function(t){var e=this,o=t.$content,i=t.width||t.opts.width,r=t.height||t.opts.height,n,s,a,l,p,c={};if(!t.isLoaded||!o||!o.length){return false}l={top:parseInt(t.$slide.css("paddingTop"),10),right:parseInt(t.$slide.css("paddingRight"),10),bottom:parseInt(t.$slide.css("paddingBottom"),10),left:parseInt(t.$slide.css("paddingLeft"),10)};n=parseInt(e.$refs.stage.width(),10)-(l.left+l.right);s=parseInt(e.$refs.stage.height(),10)-(l.top+l.bottom);if(!i||!r){i=n;r=s}a=Math.min(1,n/i,s/r);i=1062;r=563;if(t.type==="image"){c.top=Math.floor((s-r)*.5)+l.top;c.left=Math.floor((n-i)*.5)+l.left}else if(t.contentType==="video"){p=t.opts.width&&t.opts.height?i/r:t.opts.ratio||16/9;if(r>i/p){r=i/p}else if(i>r*p){i=r*p}}c.width=i;c.height=r;return c},update:function(){var o=this;v.each(o.slides,function(t,e){o.updateSlide(e)})},updateSlide:function(t,e){var o=this,i=t&&t.$content,r=t.width||t.opts.width,n=t.height||t.opts.height;if(i&&(r||n||t.contentType==="video")&&!t.hasError){v.photoSwiper.stop(i);v.photoSwiper.setTranslate(i,o.getFitPos(t));if(t.pos===o.currPos){o.isAnimating=false;o.updateCursor()}}t.$slide.trigger("refresh");o.$refs.toolbar.toggleClass("compensate-for-scrollbar",t.$slide.get(0).scrollHeight>t.$slide.get(0).clientHeight);o.trigger("onUpdate",t)},centerSlide:function(t,e){var o=this,i,r;if(o.current){i=Math.round(t.$slide.width());r=t.pos-o.current.pos;v.photoSwiper.animate(t.$slide,{top:0,left:r*i+r*t.opts.gutter,opacity:1},e===g?0:e,null,false)}},updateCursor:function(t,e){var o=this,i=o.current,r=o.$refs.container.removeClass("photoSwiper-is-zoomable photoSwiper-can-zoomIn photoSwiper-can-drag photoSwiper-can-zoomOut"),n;if(!i||o.isClosing){return}n=o.isZoomable();r.toggleClass("photoSwiper-is-zoomable",n);v("[data-photoSwiper-zoom]").prop("disabled",!n);if(n&&(i.opts.clickContent==="zoom"||v.isFunction(i.opts.clickContent)&&i.opts.clickContent(i)==="zoom")){if(o.isScaledDown(t,e)){r.addClass("photoSwiper-can-zoomIn")}else{if(i.opts.touch){r.addClass("photoSwiper-can-drag")}else{r.addClass("photoSwiper-can-zoomOut")}}}else if(i.opts.touch&&i.contentType!=="video"){r.addClass("photoSwiper-can-drag")}},isZoomable:function(){var t=this,e=t.current,o;if(e&&!t.isClosing&&e.type==="image"&&!e.hasError){if(!e.isLoaded){return true}o=t.getFitPos(e);if(e.width>o.width||e.height>o.height){return true}}return false},isScaledDown:function(t,e){var o=this,i=false,r=o.current,n=r.$content;if(t!==g&&e!==g){i=t<r.width&&e<r.height}else if(n){i=v.photoSwiper.getTranslate(n);i=i.width<r.width&&i.height<r.height}return i},canPan:function(){var t=this,e=false,o=t.current,i;if(o.type==="image"&&(i=o.$content)&&!o.hasError){e=t.getFitPos(o);e=Math.abs(i.width()-e.width)>1||Math.abs(i.height()-e.height)>1}return e},dealPositionSize:function(t,e,o){var i,r;var n=this;var s=n.current.opts.$orig.parent().find("[data-photoSwiper='"+n.current.opts.photoswiper+"']:eq("+n.getRealNumber(n.current["index"])+")");var a=n.current.opts.$orig.parent().find("[data-photoSwiper]").index(s);if(!(n.opts.info.length===0||n.opts.info.length-1<a||n.opts.info[a].details===g)){v(m).width()<1440&&e<480&&t.find(".photo-img-control").css("left",(480-e)/2);v(m).width()<1440&&o<370&&t.find(".photo-img-control").css("top",(370-o)/2);v(m).width()>=1440&&e<640&&t.find(".photo-img-control").css("left",(640-e)/2);v(m).width()>=1440&&o<480&&t.find(".photo-img-control").css("top",(480-o)/2);if(v(m).width()<1440&&(e>480||o>370)){var l=e/480;var p=o/370;if(l>p){i=e/l;r=o/l}else{i=e/p;r=o/p}}if(v(m).width()>=1440&&(e>640||o>480)){var l=e/640;var p=o/480;if(l>p){i=e/l;r=o/l}else{i=e/p;r=o/p}}}else{v(m).width()<1440&&e<818&&t.find(".photo-img-control").css("left",(818-e)/2);v(m).width()<1440&&o<370&&t.find(".photo-img-control").css("top",(370-o)/2);v(m).width()>=1440&&e<978&&t.find(".photo-img-control").css("left",(978-e)/2);v(m).width()>=1440&&o<480&&t.find(".photo-img-control").css("top",(480-o)/2);if(v(m).width()<1440&&(e>818||o>370)){var l=e/818;var p=o/370;if(l>p){i=e/l;r=o/l}else{i=e/p;r=o/p}}if(v(m).width()>=1440&&(e>978||o>480)){var l=e/978;var p=o/480;if(l>p){i=e/l;r=o/l}else{i=e/p;r=o/p}}}t.find("img").css("width",i||e);t.find("img").css("height",r||o);t.find(".photo-img-control").css("width",i||e);t.find(".photo-img-control").css("height",r||o);var c=0;var h=0;if(v(m).width()>=1440){if(!(n.opts.info.length===0||n.opts.info.length-1<a||n.opts.info[a].details===g)){c=640;h=480}else{c=978;h=480}}else{if(!(n.opts.info.length===0||n.opts.info.length-1<a||n.opts.info[a].details===g)){c=480;h=370}else{c=818;h=370}}if(t.find("img").width()<c){t.find(".photo-img-control").css("left",(c-t.find("img").width())/2)}else{t.find(".photo-img-control").css("left",0)}if(t.find("img").height()<h){t.find(".photo-img-control").css("top",(h-t.find("img").height())/2)}else{t.find(".photo-img-control").css("top",0)}},loadSlide:function(o){var i=this,t,e,r;if(o.isLoading||o.isLoaded){var n=o.$content.parents(".photoSwiper-container").find(".photoSwiper-thumbs-ul-wrapper .photoSwiper-thumbs-active").css("background-image").replace("url(","").replace(")","").replace(/\"/g,"");v(".photoSwiper-only-bg").find("img").attr("src",n);var s=new Image;s.src=i.current.src;var a=s.width;var l=s.height;var p=i.current.$content;i.dealPositionSize(p,a,l);return}o.isLoading=true;i.trigger("beforeLoad",o);t=o.type;e=o.$slide;e.off("refresh").trigger("onReset").addClass(o.opts.slideClass);switch(t){case"image":i.setImage(o);break;case"iframe":i.setIframe(o);break;case"html":i.setContent(o,o.src||o.content);break;case"video":i.setContent(o,'<video class="photoSwiper-video" controls controlsList="nodownload">'+'<source src="'+o.src+'" type="'+o.opts.videoFormat+'">'+"Your browser doesn't support HTML5 video"+"</video");break;case"inline":if(v(o.src).length){i.setContent(o,v(o.src))}else{i.setError(o)}break;case"ajax":i.showLoading(o);r=v.ajax(v.extend({},o.opts.ajax.settings,{url:o.src,success:function(t,e){if(e==="success"){i.setContent(o,t)}},error:function(t,e){if(t&&e!=="abort"){i.setError(o)}}}));e.one("onReset",function(){r.abort()});break;default:i.setError(o);break}return true},setImage:function(e){var o=this,t=e.opts.srcset||e.opts.image.srcset,i,r,n,s,a;e.timouts=setTimeout(function(){var t=e.$image;if(e.isLoading&&(!t||!t[0].complete)&&!e.hasError){o.showLoading(e)}},350);if(t){s=m.devicePixelRatio||1;a=m.innerWidth*s;n=t.split(",").map(function(t){var i={};t.trim().split(/\s+/).forEach(function(t,e){var o=parseInt(t.substring(0,t.length-1),10);if(e===0){return i.url=t}if(o){i.value=o;i.postfix=t[t.length-1]}});return i});n.sort(function(t,e){return t.value-e.value});for(var l=0;l<n.length;l++){var p=n[l];if(p.postfix==="w"&&p.value>=a||p.postfix==="x"&&p.value>=s){r=p;break}}if(!r&&n.length){r=n[n.length-1]}if(r){e.src=r.url;if(e.width&&e.height&&r.postfix=="w"){e.height=e.width/e.height*r.value;e.width=r.value}e.opts.srcset=t}}e.$content=v('<div class="photoSwiper-content"></div>').addClass("photoSwiper-is-hidden").appendTo(e.$slide.addClass("photoSwiper-slide--image"));e.$content.wrap('<div class="photoSwiper-content-wrapper"></div>');v('<div class="photoSwiper-content-title"></div>').appendTo(e.$content.parent(".photoSwiper-content-wrapper"));v('<div class="photoSwiper-content-info"></div>').appendTo(e.$content.parent(".photoSwiper-content-wrapper"));var c=v('<div class="photoSwiper-content-operator-left"></div>');var h=v('<div class="photoSwiper-content-operator-right"></div>');if(o.opts.operateExtend!==null){v(o.opts.operateExtend).appendTo(h)}if(o.opts.isReduce===true){v(o.opts.btnTpl.reduce).appendTo(c)}if(o.opts.isEnLarge===true){v(o.opts.btnTpl.enlarge).appendTo(c)}if(o.opts.isBackOrigin===true){v(o.opts.btnTpl.backOrigin).appendTo(c)}if(o.opts.isLeftHand===true){v(o.opts.btnTpl.leftHand).appendTo(c)}if(o.opts.isRightHand===true){v(o.opts.btnTpl.rightHand).appendTo(c)}if(o.opts.isFullScreen===true){v(o.opts.btnTpl.myFullScreen).appendTo(c)}if(o.opts.isFind===true){v(o.opts.btnTpl.find).appendTo(h)}if(o.opts.isTrackSource===true){v(o.opts.btnTpl.trackSource).appendTo(h)}if(o.opts.isFollow===true){v(o.opts.btnTpl.follow).appendTo(h)}v('<div class="photoSwiper-content-operator"></div>').appendTo(e.$content.parent(".photoSwiper-content-wrapper"));c.appendTo(e.$content.parent(".photoSwiper-content-wrapper").find(".photoSwiper-content-operator"));h.appendTo(e.$content.parent(".photoSwiper-content-wrapper").find(".photoSwiper-content-operator"));i=e.opts.thumb||(e.opts.$thumb&&e.opts.$thumb.length?e.opts.$thumb.attr("src"):false);if(e.opts.preload!==false&&e.opts.width&&e.opts.height&&i){e.width=e.opts.width;e.height=e.opts.height;e.$ghost=v("<img src='"+o.current.src+"' style='visibility: hidden;'/>").one("error",function(){v(this).remove();e.$ghost=null}).one("load",function(){o.afterLoad(e)}).addClass("photoSwiper-image").appendTo(e.$content).css({"background-image":"url('"+i+"')"});v(".photoSwiper-only-bg").html(v("<div class='photoSwiper-only-close'></div><img src='"+o.current.src+"'/>"));e.$content.find("img").wrap('<div id="photo-img-control" class="photo-img-control"></div>');var f=new Image;f.src=o.current.src;var d=f.width;var u=f.height;var g=o.current.$content;o.dealPositionSize(g,d,u)}o.setBigImage(e);var w=e.$content.parent(".photoSwiper-content-wrapper").find("#photo-img-control")[0];w.onmousedown=function(t){var e=t.clientX-w.offsetLeft;var o=t.clientY-w.offsetTop;w.onmousemove=function(t){w.style.left=t.clientX-e+"px";w.style.top=t.clientY-o+"px"};w.onmouseup=function(){w.onmousemove=null;w.onmouseup=null}}},getPath:function(){var t=l.currentScript?l.currentScript.src:function(){var t=l.scripts,e=t.length-1,o;for(var i=e;i>0;i--){if(t[i].readyState==="interactive"){o=t[i].src;break}}return o||t[e].src}();return t.substring(0,t.lastIndexOf("/")+1)}(),setBigImage:function(e){var o=this,i=v("<img  style='visibility: hidden;'/>");var t=new Image;t.src=e.src;var r=t.width;var n=t.height;if(t.fileSize<=0||r===0){e.src=o.getPath+"images/blank.png"}e.$image=i.one("error",function(){}).one("load",function(){var t;if(!e.$ghost){o.resolveImageSlideSize(e,this.naturalWidth,this.naturalHeight);o.afterLoad(e)}if(e.timouts){clearTimeout(e.timouts);e.timouts=null}if(o.isClosing){return}if(e.opts.srcset){t=e.opts.sizes;if(!t||t==="auto"){t=(e.width/e.height>1&&p.width()/p.height()>1?"100":Math.round(e.width/e.height*100))+"vw"}i.attr("sizes",t).attr("srcset",e.opts.srcset)}if(e.$ghost){setTimeout(function(){if(e.$ghost&&!o.isClosing){e.$ghost.hide()}},Math.min(300,Math.max(1e3,e.height/1600)))}o.hideLoading(e)}).addClass("photoSwiper-image").attr("src",e.src).css({"background-image":"url('"+e.src+"')"}).appendTo(e.$content);v(".photoSwiper-only-bg").html(v("<div class='photoSwiper-only-close'></div><img src='"+o.current.src+"' />"));e.$content.find("img").wrap('<div id="photo-img-control" class="photo-img-control"></div>');var t=new Image;t.src=o.current.src;var r=t.width;var n=t.height;var s=o.current.$content;o.dealPositionSize(s,r,n);if((i[0].complete||i[0].readyState=="complete")&&i[0].naturalWidth&&i[0].naturalHeight){i.trigger("load")}else if(i[0].error){i.trigger("error")}},resolveImageSlideSize:function(t,e,o){var i=parseInt(t.opts.width,10),r=parseInt(t.opts.height,10);t.width=e;t.height=o;if(i>0){t.width=i;t.height=Math.floor(i*o/e)}if(r>0){t.width=Math.floor(r*e/o);t.height=r}},setIframe:function(n){var e=this,s=n.opts.iframe,t=n.$slide,a;n.$content=v('<div class="photoSwiper-content'+(s.preload?" photoSwiper-is-hidden":"")+'"></div>').css(s.css).appendTo(t);t.addClass("photoSwiper-slide--"+n.contentType);n.$iframe=a=v(s.tpl.replace(/\{rnd\}/g,(new Date).getTime())).attr(s.attr).appendTo(n.$content);if(s.preload){e.showLoading(n);a.on("load.fb error.fb",function(t){this.isReady=1;n.$slide.trigger("refresh");e.afterLoad(n)});t.on("refresh.fb",function(){var t=n.$content,e=s.css.width,o=s.css.height,i,r;if(a[0].isReady!==1){return}try{i=a.contents();r=i.find("body")}catch(t){}if(r&&r.length&&r.children().length){t.css({width:"",height:""});if(e===g){e=Math.ceil(Math.max(r[0].clientWidth,r.outerWidth(true)))}if(e){t.width(e)}if(o===g){o=Math.ceil(Math.max(r[0].clientHeight,r.outerHeight(true)))}if(o){t.height(o)}}t.removeClass("photoSwiper-is-hidden")})}else{this.afterLoad(n)}a.attr("src",n.src);t.one("onReset",function(){try{v(this).find("iframe").hide().unbind().attr("src","//about:blank")}catch(t){}v(this).off("refresh.fb").empty();n.isLoaded=false})},setContent:function(t,e){var o=this;if(o.isClosing){return}o.hideLoading(t);if(t.$content){v.photoSwiper.stop(t.$content)}t.$slide.empty();if(i(e)&&e.parent().length){e.parent().parent(".photoSwiper-slide--inline").trigger("onReset");t.$placeholder=v("<div>").hide().insertAfter(e);e.css("display","inline-block")}else if(!t.hasError){if(v.type(e)==="string"){e=v("<div>").append(v.trim(e)).contents();if(e[0].nodeType===3){e=v("<div>").html(e)}}if(t.opts.filter){e=v("<div>").html(e).find(t.opts.filter)}}t.$slide.one("onReset",function(){v(this).find("video,audio").trigger("pause");if(t.$placeholder){t.$placeholder.after(e.hide()).remove();t.$placeholder=null}if(t.$smallBtn){t.$smallBtn.remove();t.$smallBtn=null}if(!t.hasError){v(this).empty();t.isLoaded=false}});v(e).appendTo(t.$slide);if(v(e).is("video,audio")){v(e).addClass("photoSwiper-video");v(e).wrap("<div></div>");t.contentType="video";t.opts.width=t.opts.width||v(e).attr("width");t.opts.height=t.opts.height||v(e).attr("height")}t.$content=t.$slide.children().filter("div,form,main,video,audio").first().addClass("photoSwiper-content");t.$slide.addClass("photoSwiper-slide--"+t.contentType);this.afterLoad(t)},setError:function(t){t.hasError=true;t.$slide.trigger("onReset").removeClass("photoSwiper-slide--"+t.contentType).addClass("photoSwiper-slide--error");t.contentType="html";this.setContent(t,this.translate(t,t.opts.errorTpl));if(t.pos===this.currPos){this.isAnimating=false}},showLoading:function(t){var e=this;t=t||e.current;if(t&&!t.$spinner){t.$spinner=v(e.translate(e,e.opts.spinnerTpl)).appendTo(t.$slide)}},hideLoading:function(t){var e=this;t=t||e.current;if(t&&t.$spinner){t.$spinner.remove();delete t.$spinner}},afterLoad:function(t){var e=this;if(e.isClosing){return}t.isLoading=false;t.isLoaded=true;e.trigger("afterLoad",t);e.hideLoading(t);if(t.pos===e.currPos){e.updateCursor()}if(t.opts.smallBtn&&(!t.$smallBtn||!t.$smallBtn.length)){t.$smallBtn=v(e.translate(t,t.opts.btnTpl.smallBtn)).prependTo(t.$content)}if(t.opts.protect&&t.$content&&!t.hasError){t.$content.on("contextmenu.fb",function(t){if(t.button==2){t.preventDefault()}return true});if(t.type==="image"){v('<div class="photoSwiper-spaceball"></div>').appendTo(t.$content)}}e.revealContent(t)},revealContent:function(e){var o=this,i=e.$slide,t=false,r=false,n,s,a,l;n=e.opts[o.firstRun?"animationEffect":"transitionEffect"];a=e.opts[o.firstRun?"animationDuration":"transitionDuration"];a=parseInt(e.forcedDuration===g?a:e.forcedDuration,10);if(e.pos===o.currPos){if(e.isComplete){n=false}else{o.isAnimating=true}}if(e.isMoved||e.pos!==o.currPos||!a){n=false}if(n==="zoom"){if(e.pos===o.currPos&&a&&e.type==="image"&&!e.hasError&&(r=o.getThumbPos(e))){t=o.getFitPos(e)}else{n="fade"}}if(n==="zoom"){t.scaleX=t.width/r.width;t.scaleY=t.height/r.height;l=e.opts.zoomOpacity;if(l=="auto"){l=Math.abs(e.width/e.height-r.width/r.height)>.1}if(l){r.opacity=.1;t.opacity=1}v.photoSwiper.setTranslate(e.$content.removeClass("photoSwiper-is-hidden"),r);u(e.$content);v.photoSwiper.animate(e.$content,t,a,function(){o.isAnimating=false;o.complete()});return}o.updateSlide(e);if(!n){u(i);e.$content.removeClass("photoSwiper-is-hidden");if(e.pos===o.currPos){o.complete()}return}v.photoSwiper.stop(i);s="photoSwiper-animated photoSwiper-slide--"+(e.pos>=o.prevPos?"next":"previous")+" photoSwiper-fx-"+n;i.removeAttr("style").removeClass("photoSwiper-slide--current photoSwiper-slide--next photoSwiper-slide--previous").addClass(s);e.$content.removeClass("photoSwiper-is-hidden");u(i);v.photoSwiper.animate(i,"photoSwiper-slide--current",a,function(t){i.removeClass(s).removeAttr("style");if(e.pos===o.currPos){o.complete()}},true)},getThumbPos:function(t){var e=this,o=false,i=t.opts.$thumb,r=i&&i.length&&i[0].ownerDocument===l?i.offset():0,n;var s=function(t){var e=t[0],i=e.getBoundingClientRect(),o=[],r;while(e.parentElement!==null){if(v(e.parentElement).css("overflow")==="hidden"||v(e.parentElement).css("overflow")==="auto"){o.push(e.parentElement.getBoundingClientRect())}e=e.parentElement}r=o.every(function(t){var e=Math.min(i.right,t.right)-Math.max(i.left,t.left);var o=Math.min(i.bottom,t.bottom)-Math.max(i.top,t.top);return e>0&&o>0});return r&&i.bottom>0&&i.right>0&&i.left<v(m).width()&&i.top<v(m).height()};if(r&&s(i)){n=e.$refs.stage.offset();o={top:r.top-n.top+parseFloat(i.css("border-top-width")||0),left:r.left-n.left+parseFloat(i.css("border-left-width")||0),width:i.width(),height:i.height(),scaleX:1,scaleY:1}}return o},complete:function(){var o=this,t=o.current,i={};if(t.isMoved||!t.isLoaded){return}if(!t.isComplete){t.isComplete=true;t.$slide.siblings().trigger("onReset");o.preload("inline");u(t.$slide);t.$slide.addClass("photoSwiper-slide--complete");v.each(o.slides,function(t,e){if(e.pos>=o.currPos-1&&e.pos<=o.currPos+1){i[e.pos]=e}else if(e){v.photoSwiper.stop(e.$slide);e.$slide.off().remove()}});o.slides=i}o.isAnimating=false;o.updateCursor();o.trigger("afterShow");t.$slide.find("video,audio").filter(":visible:first").trigger("play");if(v(l.activeElement).is("[disabled]")||t.opts.autoFocus&&!(t.type=="image"||t.type==="iframe")){o.focus()}},preload:function(t){var e=this,o=e.slides[e.currPos+1],i=e.slides[e.currPos-1];if(o&&o.type===t){e.loadSlide(o)}if(i&&i.type===t){e.loadSlide(i)}},focus:function(){var t=this.current,e;if(this.isClosing){return}if(t&&t.isComplete&&t.$content){e=t.$content.find("input[autofocus]:enabled:visible:first");if(!e.length){e=t.$content.find("button,:input,[tabindex],a").filter(":enabled:visible:first")}e=e&&e.length?e:t.$content;e.trigger("focus")}},activate:function(){var e=this;v(".photoSwiper-container").each(function(){var t=v(this).data("FancyBox");if(t&&t.id!==e.id&&!t.isClosing){t.trigger("onDeactivate");t.removeEvents();t.isVisible=false}});e.isVisible=true;if(e.current||e.isIdle){e.update();e.updateControls()}e.trigger("onActivate");e.addEvents()},close:function(t,e){var o=this,i=o.current,r,n,s,a,l,p,c;var h=function(){o.cleanUp(t)};if(o.isClosing){return false}o.isClosing=true;if(o.trigger("beforeClose",t)===false){o.isClosing=false;f(function(){o.update()});return false}o.removeEvents();if(i.timouts){clearTimeout(i.timouts)}s=i.$content;r=i.opts.animationEffect;n=v.isNumeric(e)?e:r?i.opts.animationDuration:0;i.$slide.off(d).removeClass("photoSwiper-slide--complete photoSwiper-slide--next photoSwiper-slide--previous photoSwiper-animated");i.$slide.siblings().trigger("onReset").remove();if(n){o.$refs.container.removeClass("photoSwiper-is-open").addClass("photoSwiper-is-closing")}o.hideLoading(i);o.hideControls();o.updateCursor();if(r==="zoom"&&!(t!==true&&s&&n&&i.type==="image"&&!i.hasError&&(c=o.getThumbPos(i)))){r="fade"}if(r==="zoom"){v.photoSwiper.stop(s);a=v.photoSwiper.getTranslate(s);p={top:a.top,left:a.left,scaleX:a.width/c.width,scaleY:a.height/c.height,width:c.width,height:c.height};l=i.opts.zoomOpacity;if(l=="auto"){l=Math.abs(i.width/i.height-c.width/c.height)>.1}if(l){c.opacity=0}v.photoSwiper.setTranslate(s,p);u(s);v.photoSwiper.animate(s,c,n,h);return true}if(r&&n){if(t===true){setTimeout(h,n)}else{v.photoSwiper.animate(i.$slide.removeClass("photoSwiper-slide--current"),"photoSwiper-animated photoSwiper-slide--previous photoSwiper-fx-"+r,n,h)}}else{h()}return true},cleanUp:function(t){var e=this,o=v("body"),i,r;e.current.$slide.trigger("onReset");e.$refs.container.empty().remove();e.trigger("afterClose",t);if(e.$lastFocus&&!!e.current.opts.backFocus){e.$lastFocus.trigger("focus")}e.current=null;i=v.photoSwiper.getInstance();if(i){i.activate()}else{o.removeClass("photoSwiper-active compensate-for-scrollbar");v("#photoSwiper-style-noscroll").remove()}},trigger:function(t,e){var o=Array.prototype.slice.call(arguments,1),i=this,r=e&&e.opts?e:i.current,n;if(r){o.unshift(r)}else{r=i}o.unshift(i);if(v.isFunction(r.opts[t])){n=r.opts[t].apply(r,o)}if(n===false){return n}if(t==="afterClose"||!i.$refs){s.trigger(t+".fb",o)}else{i.$refs.container.trigger(t+".fb",o)}},updateControls:function(t){var e=this,o=e.current,i=o.index,r=o.opts.caption,n=e.$refs.container,s=e.$refs.caption;o.$slide.trigger("refresh");e.$caption=r&&r.length?s.html(r):null;if(!e.isHiddenControls&&!e.isIdle){e.showControls()}n.find("[data-photoSwiper-count]").html(e.group.length);n.find("[data-photoSwiper-index]").html(i+1);n.find("[data-photoSwiper-prev]").toggleClass("disabled",!o.opts.loop&&i<=0);n.find("[data-photoSwiper-next]").toggleClass("disabled",!o.opts.loop&&i>=e.group.length-1);n.find(".photoSwiper-thumbs-left").toggleClass("disabled",!o.opts.loop&&i<=0);n.find(".photoSwiper-thumbs-right").toggleClass("disabled",!o.opts.loop&&i>=e.group.length-1);if(o.type==="image"){n.find("[data-photoSwiper-zoom]").show().end().find("[data-photoSwiper-download]").attr("href",o.opts.image.src||o.src).show()}else if(o.opts.toolbar){n.find("[data-photoSwiper-download],[data-photoSwiper-zoom]").hide()}},hideControls:function(){this.isHiddenControls=true;this.$refs.container.removeClass("photoSwiper-show-infobar photoSwiper-show-toolbar photoSwiper-show-caption photoSwiper-show-nav")},showControls:function(){var t=this,e=t.current?t.current.opts:t.opts,o=t.$refs.container;t.isHiddenControls=false;t.idleSecondsCounter=0;o.toggleClass("photoSwiper-show-toolbar",!!(e.toolbar&&e.buttons)).toggleClass("photoSwiper-show-infobar",!!(e.infobar&&t.group.length>1)).toggleClass("photoSwiper-show-nav",!!(e.arrows&&t.group.length>1)).toggleClass("photoSwiper-is-modal",!!e.modal);if(t.$caption){o.addClass("photoSwiper-show-caption ")}else{o.removeClass("photoSwiper-show-caption")}},showControlsHelp:function(){var t=this,e=t.current?t.current.opts:t.opts,o=t.$refs.container;o.toggleClass("photoSwiper-show-toolbar",!!(e.toolbar&&e.buttons)).toggleClass("photoSwiper-show-infobar",!!(e.infobar&&t.group.length>1)).toggleClass("photoSwiper-is-modal",!!e.modal);if(t.$caption){o.addClass("photoSwiper-show-caption ")}else{o.removeClass("photoSwiper-show-caption")}},toggleControls:function(){if(this.isHiddenControls){this.showControls()}else{this.hideControls()}}});v.photoSwiper={version:"{photoSwiper-version}",defaults:t,getInstance:function(t){var e=v('.photoSwiper-container:not(".photoSwiper-is-closing"):last').data("FancyBox"),o=Array.prototype.slice.call(arguments,1);if(e instanceof a){if(v.type(t)==="string"){e[t].apply(e,o)}else if(v.type(t)==="function"){t.apply(e,o)}return e}return false},open:function(t,e,o){return new a(t,e,o)},close:function(t){var e=this.getInstance();if(e){e.close();if(t===true){this.close()}}},destroy:function(){this.close(true);s.add("body").off("click.fb-start","**")},isMobile:l.createTouch!==g&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),use3d:function(){var t=l.createElement("div");return m.getComputedStyle&&m.getComputedStyle(t)&&m.getComputedStyle(t).getPropertyValue("transform")&&!(l.documentMode&&l.documentMode<11)}(),getTranslate:function(t){var e;if(!t||!t.length){return false}e=t[0].getBoundingClientRect();return{top:e.top||0,left:e.left||0,width:e.width,height:e.height,opacity:parseFloat(t.css("opacity"))}},setTranslate:function(t,e){var o="",i="",r=0,n={};if(!t||!e){return}if(e.left!==g||e.top!==g){o=(e.left===g?t.position().left:e.left)+"px, "+(e.top===g?t.position().top:e.top)+"px";r=e.left===g?t.position().left:e.left;i=r+"px";if(this.use3d){o="translate3d("+o+", 0px)";i="translate3d("+i+")"}else{o="translate("+o+")";i="translate("+i+")"}}if(e.opacity!==g){n.opacity=e.opacity}if(e.width!==g){n.width="684px"}if(e.height!==g){n.height="514px"}var s=t.parents(".photoSwiper-inner");if(v(m).width()<1440){r=(v(m).width()-852)/2;i=r+"px";var a=r-279+"px";t.parents(".photoSwiper-container").find(".photoSwiper-thumbs-ul-wrapper").css({left:a,width:n.width,top:(v(m).height()-552)/2+410+20+"px"});t.parent(".photoSwiper-content-wrapper").css({left:i,top:(v(m).height()-552)/2+"px"});s.css({height:410+(v(m).height()-552)/2+"px"});s.find(".photoSwiper-left-big").css({left:r-62+"px"});s.find(".photoSwiper-right-big").css({right:v(m).width()-(r-0+858+62)+"px"})}else{i=r+"px";var a=r-279+"px";t.parents(".photoSwiper-container").find(".photoSwiper-thumbs-ul-wrapper").css({left:a,width:n.width,top:(v(m).height()-700)/2+520+20+"px"});t.parent(".photoSwiper-content-wrapper").css({left:i,top:(v(m).height()-700)/2+"px"});s.css({height:520+(v(m).height()-700)/2+"px"});s.find(".photoSwiper-left-big").css({left:r-62+"px"});s.find(".photoSwiper-right-big").css({right:v(m).width()-(r-0+1018+62)+"px"})}s.css("visibility","visible");s.parents(".photoSwiper-container").find(".photoSwiper-thumbs-ul-wrapper").css("visibility","visible");s.parents(".photoSwiper-container").find(".photo-img-control img").css("visibility","visible");return t.css(n)},animate:function(e,o,t,i,r){var n=false;if(v.isFunction(t)){i=t;t=null}if(!v.isPlainObject(o)){e.removeAttr("style")}v.photoSwiper.stop(e);e.on(d,function(t){if(t&&t.originalEvent&&(!e.is(t.originalEvent.target)||t.originalEvent.propertyName=="z-index")){return}v.photoSwiper.stop(e);if(n){v.photoSwiper.setTranslate(e,n)}if(v.isPlainObject(o)){if(r===false){e.removeAttr("style")}}else if(r!==true){e.removeClass(o)}if(v.isFunction(i)){i(t)}});if(v.isNumeric(t)){e.css("transition-duration",t+"ms")}if(v.isPlainObject(o)){if(o.scaleX!==g&&o.scaleY!==g){n=v.extend({},o,{width:e.width()*o.scaleX,height:e.height()*o.scaleY,scaleX:1,scaleY:1});delete o.width;delete o.height;if(e.parent().hasClass("photoSwiper-slide--image")){e.parent().addClass("photoSwiper-is-scaling")}}v.photoSwiper.setTranslate(e,o)}else{e.addClass(o)}e.data("timer",setTimeout(function(){e.trigger("transitionend")},t+16))},stop:function(t){if(t&&t.length){clearTimeout(t.data("timer"));t.off("transitionend").css("transition-duration","");t.parent().removeClass("photoSwiper-is-scaling")}}};function o(t,e){var o=[],i=0,r,n;if(t&&t.isDefaultPrevented()){return}t.preventDefault();e=t&&t.data?t.data.options:e||{};r=e.$target||v(t.currentTarget);n=r.attr("data-photoSwiper")||"";if(n){o=e.selector?v(e.selector):t.data?t.data.items:[];o=o.length?o.filter('[data-photoSwiper="'+n+'"]'):v('[data-photoSwiper="'+n+'"]');i=o.index(r);if(i<0){i=0}}else{o=[r]}v.photoSwiper.open(o,e,i)}v.fn.photoSwiper=function(t){var e;t=t||{};e=t.selector||false;if(e){v("body").off("click.fb-start",e).on("click.fb-start",e,{options:t},o)}else{this.off("click.fb-start").on("click.fb-start",{items:this,options:t},o)}return this};s.on("click.fb-start","[data-photoSwiper]",o);s.on("click.fb-start","[data-photoSwiper-trigger]",function(t){o(t,{$target:v('[data-photoSwiper="'+v(t.currentTarget).attr("data-photoSwiper-trigger")+'"]').eq(v(t.currentTarget).attr("data-index")||0),$trigger:v(this)})})})(window,document,window.jQuery||jQuery);(function(d){"use strict";var u=function(o,t,e){if(!o){return}e=e||"";if(d.type(e)==="object"){e=d.param(e,true)}d.each(t,function(t,e){o=o.replace("$"+t,e||"")});if(e.length){o+=(o.indexOf("?")>0?"&":"?")+e}return o};var i={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"//www.youtube.com/embed/$4",thumb:"//img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1,api:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},gmap_place:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/?ll="+(t[9]?t[9]+"&z="+Math.floor(t[10])+(t[12]?t[12].replace(/^\//,"&"):""):t[12]+"").replace(/\?/,"&")+"&output="+(t[12]&&t[12].indexOf("layer=c")>0?"svembed":"embed")}},gmap_search:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/maps?q="+t[5].replace("query=","q=").replace("api=1","")+"&output=embed"}}};d(document).on("objectNeedsType.fb",function(t,e,r){var n=r.src||"",s=false,o,a,l,p,c,h,f;o=d.extend(true,{},i,r.opts.media);d.each(o,function(t,e){l=n.match(e.matcher);if(!l){return}s=e.type;f=t;h={};if(e.paramPlace&&l[e.paramPlace]){c=l[e.paramPlace];if(c[0]=="?"){c=c.substring(1)}c=c.split("&");for(var o=0;o<c.length;++o){var i=c[o].split("=",2);if(i.length==2){h[i[0]]=decodeURIComponent(i[1].replace(/\+/g," "))}}}p=d.extend(true,{},e.params,r.opts[t],h);n=d.type(e.url)==="function"?e.url.call(this,l,p,r):u(e.url,l,p);a=d.type(e.thumb)==="function"?e.thumb.call(this,l,p,r):u(e.thumb,l);if(t==="youtube"){n=n.replace(/&t=((\d+)m)?(\d+)s/,function(t,e,o,i){return"&start="+((o?parseInt(o,10)*60:0)+parseInt(i,10))})}else if(t==="vimeo"){n=n.replace("&%23","#")}return false});if(s){if(!r.opts.thumb&&!(r.opts.$thumb&&r.opts.$thumb.length)){r.opts.thumb=a}if(s==="iframe"){r.opts=d.extend(true,r.opts,{iframe:{preload:false,attr:{scrolling:"no"}}})}d.extend(r,{type:s,src:n,origSrc:r.src,contentSource:f,contentType:s==="image"?"image":f=="gmap_place"||f=="gmap_search"?"map":"video"})}else if(n){r.type=r.opts.defaultType}})})(window.jQuery||jQuery);(function(S,a,b){"use strict";var y=function(){return S.requestAnimationFrame||S.webkitRequestAnimationFrame||S.mozRequestAnimationFrame||S.oRequestAnimationFrame||function(t){return S.setTimeout(t,1e3/60)}}();var $=function(){return S.cancelAnimationFrame||S.webkitCancelAnimationFrame||S.mozCancelAnimationFrame||S.oCancelAnimationFrame||function(t){S.clearTimeout(t)}}();var c=function(t){var e=[];t=t.originalEvent||t||S.e;t=t.touches&&t.touches.length?t.touches:t.changedTouches&&t.changedTouches.length?t.changedTouches:[t];for(var o in t){if(t[o].pageX){e.push({x:t[o].pageX,y:t[o].pageY})}else if(t[o].clientX){e.push({x:t[o].clientX,y:t[o].clientY})}}return e};var x=function(t,e,o){if(!e||!t){return 0}if(o==="x"){return t.x-e.x}else if(o==="y"){return t.y-e.y}return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};var l=function(t){if(t.is('a,area,button,[role="button"],input,label,select,summary,textarea,video,audio')||b.isFunction(t.get(0).onclick)||t.data("selectable")){return true}for(var e=0,o=t[0].attributes,i=o.length;e<i;e++){if(o[e].nodeName.substr(0,14)==="data-photoSwiper-"){return true}}return false};var o=function(t){var e=S.getComputedStyle(t)["overflow-y"],o=S.getComputedStyle(t)["overflow-x"],i=(e==="scroll"||e==="auto")&&t.scrollHeight>t.clientHeight,r=(o==="scroll"||o==="auto")&&t.scrollWidth>t.clientWidth;return i||r};var p=function(t){var e=false;while(true){e=o(t.get(0));if(e){break}t=t.parent();if(!t.length||t.hasClass("photoSwiper-stage")||t.is("body")){break}}return e};var i=function(t){var e=this;e.instance=t;e.$bg=t.$refs.bg;e.$stage=t.$refs.stage;e.$container=t.$refs.container;e.destroy();e.$container.on("touchstart.fb.touch mousedown.fb.touch",b.proxy(e,"ontouchstart"))};i.prototype.destroy=function(){this.$container.off(".fb.touch")};i.prototype.ontouchstart=function(t){var e=this,o=b(t.target),i=e.instance,r=i.current,n=r.$content,s=t.type=="touchstart";if(s){e.$container.off("mousedown.fb.touch")}if(t.originalEvent&&t.originalEvent.button==2){return}if(!o.length||l(o)||l(o.parent())){return}if(!o.is("img")&&t.originalEvent.clientX>o[0].clientWidth+o.offset().left){return}if(!r||i.isAnimating||i.isClosing){t.stopPropagation();t.preventDefault();return}e.realPoints=e.startPoints=c(t);if(!e.startPoints.length){return}t.stopPropagation();e.startEvent=t;e.canTap=true;e.$target=o;e.$content=n;e.opts=r.opts.touch;e.isPanning=false;e.isSwiping=false;e.isZooming=false;e.isScrolling=false;e.startTime=(new Date).getTime();e.distanceX=e.distanceY=e.distance=0;e.canvasWidth=Math.round(r.$slide[0].clientWidth);e.canvasHeight=Math.round(r.$slide[0].clientHeight);e.contentLastPos=null;e.contentStartPos=b.photoSwiper.getTranslate(e.$content)||{top:0,left:0};e.sliderStartPos=e.sliderLastPos||b.photoSwiper.getTranslate(r.$slide);e.stagePos=b.photoSwiper.getTranslate(i.$refs.stage);e.sliderStartPos.top-=e.stagePos.top;e.sliderStartPos.left-=e.stagePos.left;e.contentStartPos.top-=e.stagePos.top;e.contentStartPos.left-=e.stagePos.left;b(a).off(".fb.touch").on(s?"touchend.fb.touch touchcancel.fb.touch":"mouseup.fb.touch mouseleave.fb.touch",b.proxy(e,"ontouchend")).on(s?"touchmove.fb.touch":"mousemove.fb.touch",b.proxy(e,"ontouchmove"));if(b.photoSwiper.isMobile){a.addEventListener("scroll",e.onscroll,true)}if(!(e.opts||i.canPan())||!(o.is(e.$stage)||e.$stage.find(o).length)){if(o.is(".photoSwiper-image")){t.preventDefault()}return}if(!(b.photoSwiper.isMobile&&(p(o)||p(o.parent())))){t.preventDefault()}if(e.startPoints.length===1||r.hasError){if(e.instance.canPan()){b.photoSwiper.stop(e.$content);e.$content.css("transition-duration","");e.isPanning=true}else{e.isSwiping=true}e.$container.addClass("photoSwiper-controls--isGrabbing")}if(e.startPoints.length===2&&r.type==="image"&&(r.isLoaded||r.$ghost)){e.canTap=false;e.isSwiping=false;e.isPanning=false;e.isZooming=true;b.photoSwiper.stop(e.$content);e.$content.css("transition-duration","");e.centerPointStartX=(e.startPoints[0].x+e.startPoints[1].x)*.5-b(S).scrollLeft();e.centerPointStartY=(e.startPoints[0].y+e.startPoints[1].y)*.5-b(S).scrollTop();e.percentageOfImageAtPinchPointX=(e.centerPointStartX-e.contentStartPos.left)/e.contentStartPos.width;e.percentageOfImageAtPinchPointY=(e.centerPointStartY-e.contentStartPos.top)/e.contentStartPos.height;e.startDistanceBetweenFingers=x(e.startPoints[0],e.startPoints[1])}};i.prototype.onscroll=function(t){var e=this;e.isScrolling=true;a.removeEventListener("scroll",e.onscroll,true)};i.prototype.ontouchmove=function(t){var e=this,o=b(t.target);if(t.originalEvent.buttons!==undefined&&t.originalEvent.buttons===0){e.ontouchend(t);return}if(e.isScrolling||!(o.is(e.$stage)||e.$stage.find(o).length)){e.canTap=false;return}e.newPoints=c(t);if(!(e.opts||e.instance.canPan())||!e.newPoints.length||!e.newPoints.length){return}if(!(e.isSwiping&&e.isSwiping===true)){t.preventDefault()}e.distanceX=x(e.newPoints[0],e.startPoints[0],"x");e.distanceY=x(e.newPoints[0],e.startPoints[0],"y");e.distance=x(e.newPoints[0],e.startPoints[0]);if(e.distance>0){if(e.isSwiping){e.onSwipe(t)}else if(e.isPanning){}else if(e.isZooming){e.onZoom()}}};i.prototype.onSwipe=function(t){var i=this,e=i.isSwiping,o=i.sliderStartPos.left||0,r;if(e===true){if(Math.abs(i.distance)>10){i.canTap=false;if(i.instance.group.length<2&&i.opts.vertical){i.isSwiping="y"}else if(i.instance.isDragging||i.opts.vertical===false||i.opts.vertical==="auto"&&b(S).width()>800){i.isSwiping="x"}else{r=Math.abs(Math.atan2(i.distanceY,i.distanceX)*180/Math.PI);i.isSwiping=r>45&&r<135?"y":"x"}i.canTap=false;if(i.isSwiping==="y"&&b.photoSwiper.isMobile&&(p(i.$target)||p(i.$target.parent()))){i.isScrolling=true;return}i.instance.isDragging=i.isSwiping;i.startPoints=i.newPoints;b.each(i.instance.slides,function(t,e){b.photoSwiper.stop(e.$slide);e.$slide.css("transition-duration","");e.inTransition=false;if(e.pos===i.instance.current.pos){i.sliderStartPos.left=b.photoSwiper.getTranslate(e.$slide).left-b.photoSwiper.getTranslate(i.instance.$refs.stage).left}});if(i.instance.SlideShow&&i.instance.SlideShow.isActive){i.instance.SlideShow.stop()}}return}if(e=="x"){if(i.distanceX>0&&(i.instance.group.length<2||i.instance.current.index===0&&!i.instance.current.opts.loop)){o=o+Math.pow(i.distanceX,.8)}else if(i.distanceX<0&&(i.instance.group.length<2||i.instance.current.index===i.instance.group.length-1&&!i.instance.current.opts.loop)){o=o-Math.pow(-i.distanceX,.8)}else{o=o+i.distanceX}}i.sliderLastPos={top:e=="x"?0:i.sliderStartPos.top+i.distanceY,left:o};if(i.requestId){$(i.requestId);i.requestId=null}i.requestId=y(function(){if(i.sliderLastPos){b.each(i.instance.slides,function(t,e){var o=e.pos-i.instance.currPos;b.photoSwiper.setTranslate(e.$slide,{top:i.sliderLastPos.top,left:i.sliderLastPos.left+o*i.canvasWidth+o*e.opts.gutter})});i.$container.addClass("photoSwiper-is-sliding")}})};i.prototype.onPan=function(){var t=this;if(x(t.newPoints[0],t.realPoints[0])<(b.photoSwiper.isMobile?10:5)){t.startPoints=t.newPoints;return}t.canTap=false;t.contentLastPos=t.limitMovement();if(t.requestId){$(t.requestId);t.requestId=null}t.requestId=y(function(){b.photoSwiper.setTranslate(t.$content,t.contentLastPos)})};i.prototype.limitMovement=function(){var t=this;var e=t.canvasWidth;var o=t.canvasHeight;var i=t.distanceX;var r=t.distanceY;var n=t.contentStartPos;var s=n.left;var a=n.top;var l=n.width;var p=n.height;var c,h,f,d,u,g;if(l>e){u=s+i}else{u=s}g=a+r;c=Math.max(0,e*.5-l*.5);h=Math.max(0,o*.5-p*.5);f=Math.min(e-l,e*.5-l*.5);d=Math.min(o-p,o*.5-p*.5);if(i>0&&u>c){u=c-1+Math.pow(-c+s+i,.8)||0}if(i<0&&u<f){u=f+1-Math.pow(f-s-i,.8)||0}if(r>0&&g>h){g=h-1+Math.pow(-h+a+r,.8)||0}if(r<0&&g<d){g=d+1-Math.pow(d-a-r,.8)||0}return{top:g,left:u}};i.prototype.limitPosition=function(t,e,o,i){var r=this;var n=r.canvasWidth;var s=r.canvasHeight;if(o>n){t=t>0?0:t;t=t<n-o?n-o:t}else{t=Math.max(0,n/2-o/2)}if(i>s){e=e>0?0:e;e=e<s-i?s-i:e}else{e=Math.max(0,s/2-i/2)}return{top:e,left:t}};i.prototype.onZoom=function(){var t=this;var e=t.contentStartPos;var o=e.width;var i=e.height;var r=e.left;var n=e.top;var s=x(t.newPoints[0],t.newPoints[1]);var a=s/t.startDistanceBetweenFingers;var l=Math.floor(o*a);var p=Math.floor(i*a);var c=(o-l)*t.percentageOfImageAtPinchPointX;var h=(i-p)*t.percentageOfImageAtPinchPointY;var f=(t.newPoints[0].x+t.newPoints[1].x)/2-b(S).scrollLeft();var d=(t.newPoints[0].y+t.newPoints[1].y)/2-b(S).scrollTop();var u=f-t.centerPointStartX;var g=d-t.centerPointStartY;var w=r+(c+u);var m=n+(h+g);var v={top:m,left:w,scaleX:a,scaleY:a};t.canTap=false;t.newWidth=l;t.newHeight=p;t.contentLastPos=v;if(t.requestId){$(t.requestId);t.requestId=null}t.requestId=y(function(){b.photoSwiper.setTranslate(t.$content,t.contentLastPos)})};i.prototype.ontouchend=function(t){var e=this;var o=Math.max((new Date).getTime()-e.startTime,1);var i=e.isSwiping;var r=e.isPanning;var n=e.isZooming;var s=e.isScrolling;e.endPoints=c(t);e.$container.removeClass("photoSwiper-controls--isGrabbing");b(a).off(".fb.touch");a.removeEventListener("scroll",e.onscroll,true);if(e.requestId){$(e.requestId);e.requestId=null}e.isSwiping=false;e.isPanning=false;e.isZooming=false;e.isScrolling=false;e.instance.isDragging=false;if(e.canTap){return e.onTap(t)}e.speed=366;e.velocityX=e.distanceX/o*.5;e.velocityY=e.distanceY/o*.5;e.speedX=Math.max(e.speed*.5,Math.min(e.speed*1.5,1/Math.abs(e.velocityX)*e.speed));if(r){e.endPanning()}else if(n){e.endZooming()}else{e.endSwiping(i,s)}return};i.prototype.endSwiping=function(t,e){var o=this,i=false,r=o.instance.group.length;o.sliderLastPos=null;if(t=="y"&&!e&&Math.abs(o.distanceY)>50){b.photoSwiper.animate(o.instance.current.$slide,{top:o.sliderStartPos.top+o.distanceY+o.velocityY*150,opacity:0},200);i=o.instance.close(true,200)}else if(t=="x"&&o.distanceX>50&&r>1){i=o.instance.previous(o.speedX)}else if(t=="x"&&o.distanceX<-50&&r>1){i=o.instance.next(o.speedX)}if(i===false&&(t=="x"||t=="y")){if(e||r<2){o.instance.centerSlide(o.instance.current,150)}else{o.instance.jumpTo(o.instance.current.index)}}o.$container.removeClass("photoSwiper-is-sliding")};i.prototype.endPanning=function(){var t=this;var e,o,i;if(!t.contentLastPos){return}if(t.opts.momentum===false){e=t.contentLastPos.left;o=t.contentLastPos.top}else{e=t.contentLastPos.left+t.velocityX*t.speed;o=t.contentLastPos.top+t.velocityY*t.speed}i=t.limitPosition(e,o,t.contentStartPos.width,t.contentStartPos.height);i.width=t.contentStartPos.width;i.height=t.contentStartPos.height;b.photoSwiper.animate(t.$content,i,330)};i.prototype.endZooming=function(){var t=this;var e=t.instance.current;var o,i,r,n;var s=t.newWidth;var a=t.newHeight;if(!t.contentLastPos){return}o=t.contentLastPos.left;i=t.contentLastPos.top;n={top:i,left:o,width:s,height:a,scaleX:1,scaleY:1};b.photoSwiper.setTranslate(t.$content,n);if(s<t.canvasWidth&&a<t.canvasHeight){t.instance.scaleToFit(150)}else if(s>e.width||a>e.height){t.instance.scaleToActual(t.centerPointStartX,t.centerPointStartY,150)}else{r=t.limitPosition(o,i,s,a);b.photoSwiper.setTranslate(t.$content,b.photoSwiper.getTranslate(t.$content));b.photoSwiper.animate(t.$content,r,150)}};i.prototype.onTap=function(o){var i=this;var t=b(o.target);var r=i.instance;var n=r.current;var e=o&&c(o)||i.startPoints;var s=e[0]?e[0].x-b(S).scrollLeft()-i.stagePos.left:0;var a=e[0]?e[0].y-b(S).scrollTop()-i.stagePos.top:0;var l;var p=function(t){var e=n.opts[t];if(b.isFunction(e)){e=e.apply(r,[n,o])}if(!e){return}switch(e){case"close":r.close(i.startEvent);break;case"toggleControls":r.toggleControls(true);break;case"next":r.next();break;case"nextOrClose":if(r.group.length>1){r.next()}else{r.close(i.startEvent)}break;case"zoom":if(n.type=="image"&&(n.isLoaded||n.$ghost)){if(r.canPan()){r.scaleToFit()}else if(r.isScaledDown()){r.scaleToActual(s,a)}else if(r.group.length<2){r.close(i.startEvent)}}break}};if(o.originalEvent&&o.originalEvent.button==2){return}if(!t.is("img")&&s>t[0].clientWidth+t.offset().left){return}if(t.is(".photoSwiper-bg,.photoSwiper-inner,.photoSwiper-outer,.photoSwiper-container")){l="Outside"}else if(t.is(".photoSwiper-slide")){l="Slide"}else if(r.current.$content&&r.current.$content.find(t).addBack().filter(t).length){l="Content"}else{return}if(i.tapped){clearTimeout(i.tapped);i.tapped=null;if(Math.abs(s-i.tapX)>50||Math.abs(a-i.tapY)>50){return this}p("dblclick"+l)}else{i.tapX=s;i.tapY=a;if(n.opts["dblclick"+l]&&n.opts["dblclick"+l]!==n.opts["click"+l]){i.tapped=setTimeout(function(){i.tapped=null;p("click"+l)},500)}else{p("click"+l)}}return this};b(a).on("onActivate.fb",function(t,e){if(e&&!e.Guestures){e.Guestures=new i(e)}})})(window,document,window.jQuery||jQuery);(function(s,a){"use strict";a.extend(true,a.photoSwiper.defaults,{btnTpl:{slideShow:'<button data-photoSwiper-play class="photoSwiper-button photoSwiper-button--play" title="{{PLAY_START}}">'+'<svg viewBox="0 0 40 40">'+'<path d="M13,12 L27,20 L13,27 Z" />'+'<path d="M15,10 v19 M23,10 v19" />'+"</svg>"+"</button>"},slideShow:{autoStart:false,speed:3e3}});var o=function(t){this.instance=t;this.init()};a.extend(o.prototype,{timer:null,isActive:false,$button:null,init:function(){var t=this;t.$button=t.instance.$refs.toolbar.find("[data-photoSwiper-play]").on("click",function(){t.toggle()});if(t.instance.group.length<2||!t.instance.group[t.instance.currIndex].opts.slideShow){t.$button.hide()}},set:function(t){var e=this;if(e.instance&&e.instance.current&&(t===true||e.instance.current.opts.loop||e.instance.currIndex<e.instance.group.length-1)){e.timer=setTimeout(function(){if(e.isActive){e.instance.jumpTo((e.instance.currIndex+1)%e.instance.group.length)}},e.instance.current.opts.slideShow.speed)}else{e.stop();e.instance.idleSecondsCounter=0;e.instance.showControls()}},clear:function(){var t=this;clearTimeout(t.timer);t.timer=null},start:function(){var t=this;var e=t.instance.current;if(e){t.isActive=true;t.$button.attr("title",e.opts.i18n[e.opts.lang].PLAY_STOP).removeClass("photoSwiper-button--play").addClass("photoSwiper-button--pause");t.set(true)}},stop:function(){var t=this;var e=t.instance.current;t.clear();t.$button.attr("title",e.opts.i18n[e.opts.lang].PLAY_START).removeClass("photoSwiper-button--pause").addClass("photoSwiper-button--play");t.isActive=false},toggle:function(){var t=this;if(t.isActive){t.stop()}else{t.start()}}});a(s).on({"onInit.fb":function(t,e){if(e&&!e.SlideShow){e.SlideShow=new o(e)}},"beforeShow.fb":function(t,e,o,i){var r=e&&e.SlideShow;if(i){if(r&&o.opts.slideShow.autoStart){r.start()}}else if(r&&r.isActive){r.clear()}},"afterShow.fb":function(t,e,o){var i=e&&e.SlideShow;if(i&&i.isActive){i.set()}},"afterKeydown.fb":function(t,e,o,i,r){var n=e&&e.SlideShow;if(n&&o.opts.slideShow&&(r===80||r===32)&&!a(s.activeElement).is("button,a,input")){i.preventDefault();n.toggle()}},"beforeClose.fb onDeactivate.fb":function(t,e){var o=e&&e.SlideShow;if(o){o.stop()}}});a(s).on("visibilitychange",function(){var t=a.photoSwiper.getInstance();var e=t&&t.SlideShow;if(e&&e.isActive){if(s.hidden){e.clear()}else{e.set()}}})})(document,window.jQuery||jQuery);(function(n,o){"use strict";var e=function(){var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]];var e={};for(var o=0;o<t.length;o++){var i=t[o];if(i&&i[1]in n){for(var r=0;r<i.length;r++){e[t[0][r]]=i[r]}return e}}return false}();if(!e){if(o&&o.photoSwiper){o.photoSwiper.defaults.btnTpl.fullScreen=false}return}var i={request:function(t){t=t||n.documentElement;t[e.requestFullscreen](t.ALLOW_KEYBOARD_INPUT)},exit:function(){n[e.exitFullscreen]()},toggle:function(t){t=t||n.documentElement;if(this.isFullscreen()){this.exit()}else{this.request(t)}},isFullscreen:function(){return Boolean(n[e.fullscreenElement])},enabled:function(){return Boolean(n[e.fullscreenEnabled])}};o.extend(true,o.photoSwiper.defaults,{btnTpl:{fullScreen:'<button data-photoSwiper-fullscreen class="photoSwiper-button photoSwiper-button--fullscreen" title="{{FULL_SCREEN}}">'+'<svg viewBox="0 0 40 40">'+'<path d="M9,12 v16 h22 v-16 h-22 v8" />'+"</svg>"+"</button>"},fullScreen:{autoStart:false}});o(n).on({"onInit.fb":function(t,e){var o;if(e&&e.group[e.currIndex].opts.fullScreen){o=e.$refs.container;o.on("click.fb-fullscreen","[data-photoSwiper-fullscreen]",function(t){t.stopPropagation();t.preventDefault();i.toggle()});if(e.opts.fullScreen&&e.opts.fullScreen.autoStart===true){i.request()}e.FullScreen=i}else if(e){e.$refs.toolbar.find("[data-photoSwiper-fullscreen]").hide()}},"afterKeydown.fb":function(t,e,o,i,r){if(e&&e.FullScreen&&r===70){i.preventDefault();e.FullScreen.toggle()}},"beforeClose.fb":function(t,e){if(e&&e.FullScreen&&e.$refs.container.hasClass("photoSwiper-is-fullscreen")){i.exit()}}});o(n).on(e.fullscreenchange,function(){var t=i.isFullscreen(),e=o.photoSwiper.getInstance();if(e){if(e.current&&e.current.type==="image"&&e.isAnimating){e.current.$content.css("transition","none");e.isAnimating=false;e.update(true,true,0)}e.trigger("onFullscreenChange",t);e.$refs.container.toggleClass("photoSwiper-is-fullscreen",t)}})})(document,window.jQuery||jQuery);(function(t,n){"use strict";var s="photoSwiper-thumbs",a=s+"-active",l=s+"-loading";n.photoSwiper.defaults=n.extend(true,{btnTpl:{thumbs:'<button data-photoSwiper-thumbs class="photoSwiper-button photoSwiper-button--thumbs" title="{{THUMBS}}">'+'<svg viewBox="0 0 120 120">'+'<path d="M30,30 h14 v14 h-14 Z M50,30 h14 v14 h-14 Z M70,30 h14 v14 h-14 Z M30,50 h14 v14 h-14 Z M50,50 h14 v14 h-14 Z M70,50 h14 v14 h-14 Z M30,70 h14 v14 h-14 Z M50,70 h14 v14 h-14 Z M70,70 h14 v14 h-14 Z" />'+"</svg>"+"</button>"},thumbs:{autoStart:false,hideOnClose:true,parentEl:".photoSwiper-container",axis:"y"}},n.photoSwiper.defaults);var i=function(t){this.init(t)};n.extend(i.prototype,{$button:null,$grid:null,$list:null,isVisible:false,isActive:false,init:function(t){var e=this,o,i;e.instance=t;t.Thumbs=e;e.opts=t.group[t.currIndex].opts.thumbs;o=t.group[0];o=o.opts.thumb||(o.opts.$thumb&&o.opts.$thumb.length?o.opts.$thumb.attr("src"):false);if(t.group.length>1){i=t.group[1];i=i.opts.thumb||(i.opts.$thumb&&i.opts.$thumb.length?i.opts.$thumb.attr("src"):false)}e.$button=t.$refs.toolbar.find("[data-photoSwiper-thumbs]");if(e.opts&&o&&i&&o&&i){e.$button.show().on("click",function(){e.toggle()});e.isActive=true}else{e.$button.hide()}},create:function(){var t=this,e=t.instance,o=t.opts.parentEl,i=[],r;if(!t.$grid){t.$grid=n('<div class="'+s+" "+s+"-"+t.opts.axis+'"></div>').appendTo(e.$refs.container.find(o).addBack().filter(o));t.$grid.wrap("<div class='photoSwiper-thumbs-ul-wrapper'></div>");t.$grid.parent(".photoSwiper-thumbs-ul-wrapper").on("click","li",function(){e.jumpTo(n(this).attr("data-index"))})}if(!t.$list){t.$list=n("<ul>").appendTo(t.$grid)}t.$grid.parent(".photoSwiper-thumbs-ul-wrapper").prepend(n("<div class='photoSwiper-thumbs-left'></div>"));t.$grid.parent(".photoSwiper-thumbs-ul-wrapper").append(n("<div class='photoSwiper-thumbs-right'></div>"));t.$grid.parent(".photoSwiper-thumbs-ul-wrapper").on("click",".photoSwiper-thumbs-left",function(){e.jumpTo(n(this).parent(".photoSwiper-thumbs-ul-wrapper").find("li.photoSwiper-thumbs-active").attr("data-index")-5)});t.$grid.parent(".photoSwiper-thumbs-ul-wrapper").on("click",".photoSwiper-thumbs-right",function(){e.jumpTo(n(this).parent(".photoSwiper-thumbs-ul-wrapper").find("li.photoSwiper-thumbs-active").attr("data-index")-0+5)});n.each(e.group,function(t,e){r=e.opts.thumb||(e.opts.$thumb?e.opts.$thumb.attr("src"):null);if(!r&&e.type==="image"){r=e.src}i.push('<li data-index="'+t+'" tabindex="0" class="'+l+'"'+(r&&r.length?' style="background-image:url('+r+')"':"")+"></li>")});t.$list[0].innerHTML=i.join("");if(t.opts.axis==="x"){t.$list.width(parseInt(t.$grid.css("padding-right"),10)+e.group.length*t.$list.children().eq(0).outerWidth(true))}},focus:function(t){var e=this,o=e.$list,i=e.$grid,r,n;if(!e.instance.current){return}r=o.children().removeClass(a).filter('[data-index="'+e.instance.current.index+'"]').addClass(a);n=r.position();if(e.opts.axis==="y"&&(n.top<0||n.top>o.height()-r.outerHeight())){o.stop().animate({scrollTop:o.scrollTop()+n.top},t)}else if(e.opts.axis==="x"&&(n.left<i.scrollLeft()||n.left>i.scrollLeft()+(i.width()-r.outerWidth()))){o.parent().stop().animate({scrollLeft:n.left},t)}},update:function(){var t=this;t.instance.$refs.container.toggleClass("photoSwiper-show-thumbs",this.isVisible);if(t.isVisible){if(!t.$grid){t.create()}t.instance.trigger("onThumbsShow");t.focus(0)}else if(t.$grid){t.instance.trigger("onThumbsHide")}t.instance.update()},hide:function(){this.isVisible=false;this.update()},show:function(){this.isVisible=true;this.update()},toggle:function(){this.isVisible=!this.isVisible;this.update()}});n(t).on({"onInit.fb":function(t,e){var o;if(e&&!e.Thumbs){o=new i(e);if(o.isActive&&o.opts.autoStart===true){o.show()}}},"beforeShow.fb":function(t,e,o,i){var r=e&&e.Thumbs;if(r&&r.isVisible){r.focus(i?0:250)}},"afterKeydown.fb":function(t,e,o,i,r){var n=e&&e.Thumbs;if(n&&n.isActive&&r===71){i.preventDefault();n.toggle()}},"beforeClose.fb":function(t,e){var o=e&&e.Thumbs;if(o&&o.isVisible&&o.opts.hideOnClose!==false){o.$grid.hide()}}})})(document,window.jQuery||jQuery);(function(n,s,r){"use strict";if(!r.escapeSelector){r.escapeSelector=function(t){var e=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;var o=function(t,e){if(e){if(t==="\0"){return"�"}return t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" "}return"\\"+t};return(t+"").replace(e,o)}}function a(){var t=s.location.hash.substr(1),e=t.split("-"),o=e.length>1&&/^\+?\d+$/.test(e[e.length-1])?parseInt(e.pop(-1),10)||1:1,i=e.join("-");return{hash:t,index:o<1?1:o,gallery:i}}function e(t){var e;if(t.gallery!==""){e=r("[data-photoSwiper='"+r.escapeSelector(t.gallery)+"']").eq(t.index-1).trigger("click.fb-start")}}function l(t){var e,o;if(!t){return false}e=t.current?t.current.opts:t.opts;o=e.hash||(e.$orig?e.$orig.data("photoSwiper"):"");return o===""?false:o}r(function(){if(r.photoSwiper.defaults.hash===false){return}r(n).on({"onInit.fb":function(t,e){var o,i;if(e.group[e.currIndex].opts.hash===false){return}o=a();i=l(e);if(i&&o.gallery&&i==o.gallery){e.currIndex=o.index-1}},"beforeShow.fb":function(t,e,o,i){var r;if(!o||o.opts.hash===false){return}r=l(e);if(!r){return}e.currentHash=r+(e.group.length>1?"-"+(o.index+1):"");if(s.location.hash==="#"+e.currentHash){return}if(!e.origHash){e.origHash=s.location.hash}if(e.hashTimer){clearTimeout(e.hashTimer)}e.hashTimer=setTimeout(function(){if("replaceState"in s.history){s.history[i?"pushState":"replaceState"]({},n.title,s.location.pathname+s.location.search+"#"+e.currentHash);if(i){e.hasCreatedHistory=true}}else{s.location.hash=e.currentHash}e.hashTimer=null},300)},"beforeClose.fb":function(t,e,o){var i;if(o.opts.hash===false){return}i=l(e);if(e.currentHash&&e.hasCreatedHistory){s.history.back()}else if(e.currentHash){if("replaceState"in s.history){s.history.replaceState({},n.title,s.location.pathname+s.location.search+(e.origHash||""))}else{s.location.hash=e.origHash}}e.currentHash=null;clearTimeout(e.hashTimer)}});r(s).on("hashchange.fb",function(){var t=a(),i;r.each(r(".photoSwiper-container").get().reverse(),function(t,e){var o=r(e).data("FancyBox");if(o.currentHash){i=o;return false}});if(i){if(i.currentHash&&i.currentHash!==t.gallery+"-"+t.index&&!(t.index===1&&i.currentHash==t.gallery)){i.currentHash=null;i.close()}}else if(t.gallery!==""){e(t)}});setTimeout(function(){if(!r.photoSwiper.getInstance()){e(a())}},50)})})(document,window,window.jQuery||jQuery);(function(t,r){"use strict";var n=(new Date).getTime();r(t).on({"afterShow.fb":function(t,i,e){i.$refs.stage.find(".photoSwiper-content").on("mousewheel DOMMouseScroll wheel MozMousePixelScroll",function(t){var e=i.current,o=(new Date).getTime();if(e.opts.wheel===false||e.opts.wheel==="auto"&&e.type!=="image"){return}t.preventDefault();t.stopPropagation();if(e.$slide.hasClass("photoSwiper-animated")){return}t=t.originalEvent||t;if(o-n<10){return}n=o;i[(-t.deltaY||-t.deltaX||t.wheelDelta||-t.detail)<0?"reduce":"enlarge"](r(".photoSwiper-slide--current .photoSwiper-content-operator"))});i.$refs.stage.find(".photoSwiper-content").on("dblclick",function(t){r(this).parent().find(".photoSwiper-myFullScreen").trigger("click")})}})})(document,window.jQuery||jQuery);